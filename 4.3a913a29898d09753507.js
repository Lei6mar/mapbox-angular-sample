(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{NnOM:function(t,a,e){"use strict";e.r(a),e.d(a,"MapasModule",function(){return L});var n=e("ofXK"),o=e("tyNb"),r=e("4ZJM"),i=e("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){new r.Map({container:"mapa",style:"mapbox://styles/mapbox/streets-v11",center:[-100.32142817717909,25.67585623635041],zoom:16})}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=i.yb({type:t,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","mapa"]],template:function(t,a){1&t&&i.Fb(0,"div",0)},styles:["#mapa[_ngcontent-%COMP%]{\n        width: 100%;\n        height: 100%;\n      }"]}),t})();const s=["mapa"];let l=(()=>{class t{constructor(){this.zoomLevel=10,this.center=[-100.32142817717909,25.67585623635041]}ngOnDestroy(){this.mapa.off("zoom",()=>{}),this.mapa.off("zoomend",()=>{}),this.mapa.off("move",()=>{})}ngAfterViewInit(){this.mapa=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[-100.32142817717909,25.67585623635041],zoom:this.zoomLevel}),this.mapa.on("zoom",t=>{this.zoomLevel=this.mapa.getZoom()}),this.mapa.on("zoomend",t=>{this.mapa.getZoom()>18&&this.mapa.zoomTo(18)}),this.mapa.on("move",t=>{const a=null==t?void 0:t.target,{lng:e,lat:n}=a.getCenter();this.center=[e,n]})}zoomIn(){this.mapa.zoomIn()}zoomOut(){this.mapa.zoomOut()}zoomCambio(t){this.mapa.zoomTo(Number(t))}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=i.yb({type:t,selectors:[["app-zoom-range"]],viewQuery:function(t,a){if(1&t&&i.dc(s,1),2&t){let t;i.Ub(t=i.Ob())&&(a.divMapa=t.first)}},decls:16,vars:13,consts:[[1,"mapa-container"],["mapa",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","0","max","18",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,a){if(1&t){const t=i.Ib();i.Fb(0,"div",0,1),i.Hb(2,"div",2),i.Hb(3,"div",3),i.Hb(4,"label",4),i.ac(5),i.Qb(6,"number"),i.Qb(7,"number"),i.Qb(8,"number"),i.Gb(),i.Hb(9,"input",5,6),i.Nb("input",function(){i.Wb(t);const e=i.Vb(10);return a.zoomCambio(e.value)}),i.Gb(),i.Gb(),i.Hb(11,"div",3),i.Hb(12,"button",7),i.Nb("click",function(){return a.zoomOut()}),i.ac(13,"-"),i.Gb(),i.Hb(14,"button",8),i.Nb("click",function(){return a.zoomIn()}),i.ac(15,"+"),i.Gb(),i.Gb(),i.Gb()}2&t&&(i.vb(5),i.cc(" Zoom: ",i.Rb(6,4,a.zoomLevel,"2.2-2")," - Lng,Lat: [",i.Rb(7,7,a.center[0],"2.4-4"),",",i.Rb(8,10,a.center[1],"2.4-4"),"] "),i.vb(4),i.Sb("value",a.zoomLevel))},pipes:[n.d],styles:[".mapa-container[_ngcontent-%COMP%]{\n      height: 100%;\n      width: 100;\n    }\n    \n    .row[_ngcontent-%COMP%] {\n      background-color: white;\n      border-radius: 5px;\n      bottom: 50px;\n      left: 50px;\n      padding: 10px;\n      position: fixed;\n\n      z-index: 99;\n      width: 400px;\n    }"]}),t})();const p=["mapa"],m=function(t){return{"background-color":t}};function d(t,a){if(1&t){const t=i.Ib();i.Hb(0,"li",5),i.Nb("click",function(){i.Wb(t);const e=a.$implicit;return i.Pb().irMarcador(e.marker.getLngLat())})("dblclick",function(){i.Wb(t);const e=a.index;return i.Pb().borrarMarcador(e)}),i.ac(1),i.Gb()}if(2&t){const t=a.index;i.Sb("ngStyle",i.Tb(2,m,a.$implicit.color)),i.vb(1),i.bc(" marker ",t+1," ")}}let b=(()=>{class t{constructor(){this.zoomLevel=15,this.center=[-100.32142817717909,25.67585623635041],this.marcadores=[]}ngAfterViewInit(){this.mapa=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:[-100.32142817717909,25.67585623635041],zoom:this.zoomLevel}),this.leerLocalStorage()}agregarMarcador(){const t="#xxxxxx".replace(/x/g,t=>(16*Math.random()|0).toString(16)),a=new r.Marker({draggable:!0,color:t}).setLngLat(this.center).addTo(this.mapa);this.marcadores.push({color:t,marker:a}),this.guardarMarcadoresLocalStorage(),a.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})}irMarcador(t){this.mapa.flyTo({center:t})}guardarMarcadoresLocalStorage(){const t=[];this.marcadores.forEach(a=>{const e=a.color,{lng:n,lat:o}=a.marker.getLngLat();t.push({color:e,center:[n,o]})}),localStorage.setItem("marcadores",JSON.stringify(t))}leerLocalStorage(){localStorage.getItem("marcadores")&&JSON.parse(localStorage.getItem("marcadores")).forEach(t=>{const a=new r.Marker({color:t.color,draggable:!0}).setLngLat(t.center).addTo(this.mapa);this.marcadores.push({marker:a,color:t.color}),a.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})})}borrarMarcador(t){var a;null===(a=this.marcadores[t].marker)||void 0===a||a.remove(),this.marcadores.splice(t,1),this.guardarMarcadoresLocalStorage()}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=i.yb({type:t,selectors:[["app-marcadores"]],viewQuery:function(t,a){if(1&t&&i.dc(p,1),2&t){let t;i.Ub(t=i.Ob())&&(a.divMapa=t.first)}},decls:6,vars:1,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-info",3,"click"],["class","list-group-item",3,"ngStyle","click","dblclick",4,"ngFor","ngForOf"],[1,"mapa-container"],["mapa",""],[1,"list-group-item",3,"ngStyle","click","dblclick"]],template:function(t,a){1&t&&(i.Hb(0,"ul",0),i.Hb(1,"li",1),i.Nb("click",function(){return a.agregarMarcador()}),i.ac(2," + Agregar "),i.Gb(),i.Zb(3,d,2,4,"li",2),i.Gb(),i.Fb(4,"div",3,4)),2&t&&(i.vb(3),i.Sb("ngForOf",a.marcadores))},directives:[n.i,n.j],styles:[".mapa-container[_ngcontent-%COMP%]{\n      height: 100%;\n      width: 100;\n    }\n\n    .list-group[_ngcontent-%COMP%]{\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index:100;\n    }\n    li[_ngcontent-%COMP%]{\n      cursor: pointer;\n    }"]}),t})();const u=["mapa"];let g=(()=>{class t{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){var t=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:13,interactive:!1});(new r.Marker).setLngLat(this.lngLat).addTo(t)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=i.yb({type:t,selectors:[["app-mini-mapa"]],viewQuery:function(t,a){if(1&t&&i.dc(u,1),2&t){let t;i.Ub(t=i.Ob())&&(a.divMapa=t.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[["mapa",""]],template:function(t,a){1&t&&i.Fb(0,"div",null,0)},styles:["div[_ngcontent-%COMP%] {\n      width: 100%;\n      height: 150px;\n      margin: 0;\n    }"]}),t})();function h(t,a){if(1&t&&(i.Hb(0,"div",6),i.Hb(1,"div",7),i.Fb(2,"app-mini-mapa",8),i.Hb(3,"div",9),i.Hb(4,"h5",10),i.ac(5),i.Gb(),i.Hb(6,"p",11),i.ac(7),i.Gb(),i.Gb(),i.Gb(),i.Gb()),2&t){const t=a.$implicit;i.vb(2),i.Sb("lngLat",t.lngLat),i.vb(3),i.bc(" ",t.titulo," "),i.vb(2),i.bc(" ",t.descripcion," ")}}const f=[{path:"",children:[{path:"fullscreen",component:c},{path:"zoom-range",component:l},{path:"marcadores",component:b},{path:"propiedades",component:(()=>{class t{constructor(){this.propiedades=[{titulo:"Casa residencial, Canad\xe1",descripcion:"Bella propiedad en Katana, Canad\xe1",lngLat:[-75.92722289474008,45.280015511264466]},{titulo:"Casa de playa, M\xe9xico",descripcion:"Hermosa casa de playa en Acapulco, M\xe9xico",lngLat:[-99.91287720907991,16.828940930185748]},{titulo:"Apartamento, Argentina",descripcion:"Lujoso apartamento en el coraz\xf3n de Buenos Aires, Argentina",lngLat:[-58.430166677283445,-34.57150108832866]},{titulo:"Local comercial, Espa\xf1a",descripcion:"Local comercial disponible en Madrid, Espa\xf1a, cerca de El Jard\xedn Secreto.",lngLat:[-3.7112735618380177,40.42567285425766]}]}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=i.yb({type:t,selectors:[["app-propiedades"]],decls:11,vars:1,consts:[[1,"row","mt-3"],[1,"col-2"],[1,"col"],[1,"row","container"],[1,"row"],["class","col-4 mb-2",4,"ngFor","ngForOf"],[1,"col-4","mb-2"],[1,"card"],[1,"card-img-top",3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,a){1&t&&(i.Hb(0,"div",0),i.Fb(1,"div",1),i.Hb(2,"div",2),i.Hb(3,"h1"),i.ac(4,"Lista de propiedades"),i.Gb(),i.Fb(5,"hr"),i.Gb(),i.Gb(),i.Hb(6,"div",3),i.Fb(7,"div",1),i.Hb(8,"div",2),i.Hb(9,"div",4),i.Zb(10,h,8,3,"div",5),i.Gb(),i.Gb(),i.Gb()),2&t&&(i.vb(10),i.Sb("ngForOf",a.propiedades))},directives:[n.i,g],encapsulation:2}),t})()},{path:"**",redirectTo:"fullscreen"}]}];let v=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=i.Cb({type:t}),t.\u0275inj=i.Bb({imports:[[o.c.forChild(f)],o.c]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=i.Cb({type:t}),t.\u0275inj=i.Bb({imports:[[n.b,v]]}),t})()}}]);