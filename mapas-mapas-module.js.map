{"version":3,"sources":["./src/app/mapas/components/mini-mapa/mini-mapa.component.ts","./src/app/mapas/components/mini-mapa/mini-mapa.component.html","./src/app/mapas/mapas-routing.module.ts","./src/app/mapas/components/zoom-range/zoom-range.component.ts","./src/app/mapas/components/zoom-range/zoom-range.component.html","./src/app/mapas/mapas.module.ts","./src/app/mapas/components/full-screen/full-screen.component.ts","./src/app/mapas/components/full-screen/full-screen.component.html","./src/app/mapas/components/propiedades/propiedades.component.html","./src/app/mapas/components/propiedades/propiedades.component.ts","./src/app/mapas/components/marcadores/marcadores.component.ts","./src/app/mapas/components/marcadores/marcadores.component.html"],"names":[],"mappings":"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","file":"mapas-mapas-module.js","sourcesContent":["import { AfterViewInit, Component, ElementRef, Input, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\n@Component({\n  selector: 'app-mini-mapa',\n  templateUrl: './mini-mapa.component.html',\n  styles: [\n    `\n    div {\n      width: 100%;\n      height: 150px;\n      margin: 0;\n    }\n    `\n  ]\n})\nexport class MiniMapaComponent implements AfterViewInit {\n\n  @Input() lngLat: [number, number] = [0,0];\n  @ViewChild('mapa') divMapa!: ElementRef;\n\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    var map = new mapboxgl.Map({\n      container: this.divMapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: this.lngLat,\n      zoom: 13,\n      interactive: false\n    });\n\n    new mapboxgl.Marker()\n      .setLngLat(this.lngLat)\n      .addTo(map);\n\n  }\n\n}\n","<div #mapa></div>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FullScreenComponent } from './components/full-screen/full-screen.component';\nimport { ZoomRangeComponent } from './components/zoom-range/zoom-range.component';\nimport { MarcadoresComponent } from './components/marcadores/marcadores.component';\nimport { PropiedadesComponent } from './components/propiedades/propiedades.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {path: 'fullscreen', component: FullScreenComponent},\n      {path: 'zoom-range', component: ZoomRangeComponent},\n      {path: 'marcadores', component: MarcadoresComponent},\n      {path: 'propiedades', component: PropiedadesComponent},\n      {path: '**', redirectTo: 'fullscreen' },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MapasRoutingModule { }\n","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\n\n@Component({\n  selector: 'app-zoom-range',\n  templateUrl: './zoom-range.component.html',\n  styles: [\n    `.mapa-container{\n      height: 100%;\n      width: 100;\n    }\n    \n    .row {\n      background-color: white;\n      border-radius: 5px;\n      bottom: 50px;\n      left: 50px;\n      padding: 10px;\n      position: fixed;\n\n      z-index: 99;\n      width: 400px;\n    }\n    \n    `\n  ]\n})\nexport class ZoomRangeComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('mapa') divMapa!: ElementRef;\n  mapa!: mapboxgl.Map;\n  zoomLevel: number = 10;\n  center: [number, number] = [-100.32142817717909, 25.67585623635041];\n\n  constructor() { }\n\n  ngOnDestroy(): void {\n    this.mapa.off('zoom', () => {})\n    this.mapa.off('zoomend', () => {})\n    this.mapa.off('move', () => {})\n  }\n\n  ngAfterViewInit(): void {\n    this.mapa = new mapboxgl.Map({\n      container: this.divMapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-100.32142817717909, 25.67585623635041],\n      zoom: this.zoomLevel\n    });\n    this.mapa.on('zoom', (ev) =>{\n      this.zoomLevel = this.mapa.getZoom();\n      \n    });\n    this.mapa.on('zoomend', (ev) =>{\n      if(this.mapa.getZoom() > 18){\n        this.mapa.zoomTo(18);\n      }\n      \n    });\n\n    this.mapa.on('move', (event) => {\n      const target = event?.target;\n      const {lng, lat} = target.getCenter();\n      this.center = [lng, lat];\n    })\n  }\n\n  zoomIn(){\n    this.mapa.zoomIn();\n    \n  }\n    zoomOut(){\n      this.mapa.zoomOut();\n\n  }\n\n\n  zoomCambio(valor: string){\n    this.mapa.zoomTo(Number(valor));\n  }\n\n}\n","<div #mapa class=\"mapa-container\"></div>\n\n<div class=\"row\">\n    <div class=\"col-12\">\n        <label class=\"form-label\">\n            Zoom: {{zoomLevel | number: '2.2-2'}}\n            - Lng,Lat: [{{center[0] | number: '2.4-4'}},{{center[1] | number: '2.4-4'}}]\n        </label>\n        <input type=\"range\" class=\"form-range\" [value]=\"zoomLevel\" min=\"0\" max=\"18\" (input)=\"zoomCambio(zoomInput.value)\" #zoomInput>\n    </div>\n    <div class=\"col-12\">\n        <button class=\"btn btn-primary\" (click)=\"zoomOut()\">-</button>\n        <button class=\"btn btn-primary float-end\" (click)=\"zoomIn()\">+</button>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MapasRoutingModule } from './mapas-routing.module';\nimport { MiniMapaComponent } from './components/mini-mapa/mini-mapa.component';\nimport { FullScreenComponent } from './components/full-screen/full-screen.component';\nimport { MarcadoresComponent } from './components/marcadores/marcadores.component';\nimport { ZoomRangeComponent } from './components/zoom-range/zoom-range.component';\nimport { PropiedadesComponent } from './components/propiedades/propiedades.component';\n\n\n@NgModule({\n  declarations: [\n    MiniMapaComponent,\n    FullScreenComponent,\n    MarcadoresComponent,\n    ZoomRangeComponent,\n    PropiedadesComponent\n  ],\n  imports: [\n    CommonModule,\n    MapasRoutingModule\n  ]\n})\nexport class MapasModule { }\n","import { Component, OnInit } from '@angular/core';\nimport * as  mapboxgl from 'mapbox-gl';\n@Component({\n  selector: 'app-full-screen',\n  templateUrl: './full-screen.component.html',\n  styles: [\n    `\n      #mapa{\n        width: 100%;\n        height: 100%;\n      }\n    `\n  ]\n})\nexport class FullScreenComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n    var map = new mapboxgl.Map({\n      container: 'mapa',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-100.32142817717909, 25.67585623635041],\n      zoom: 16\n    });\n  }\n\n}\n","<div id=\"mapa\"></div>","<div class=\"row mt-3\">\n    <div class=\"col-2\">\n    </div>\n    <div class=\"col\">\n        <h1>Lista de propiedades</h1>\n        <hr>\n    </div>\n\n</div>\n<div class=\"row container\">\n    <div class=\"col-2\"></div>\n    <div class=\"col\">\n        <div class=\"row\">\n            <div class=\"col-4 mb-2\"\n                 *ngFor=\"let propiedad of propiedades\">\n                <div class=\"card\">\n                    <app-mini-mapa [lngLat]=\"propiedad.lngLat\" class=\"card-img-top\"></app-mini-mapa>\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\"> {{propiedad.titulo}} </h5>\n                        <p class=\"card-text\"> {{propiedad.descripcion}} </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\ninterface Propiedad {\n  titulo: string;\n  descripcion: string;\n  lngLat: [number, number];\n}\n\n@Component({\n  selector: 'app-propiedades',\n  templateUrl: './propiedades.component.html',\n  styles: [\n  ]\n})\nexport class PropiedadesComponent implements OnInit {\n  propiedades: Propiedad[] = [\n    {\n      titulo: 'Casa residencial, Canadá',\n      descripcion: 'Bella propiedad en Katana, Canadá',\n      lngLat: [ -75.92722289474008, 45.280015511264466]\n    },\n    {\n      titulo: 'Casa de playa, México',\n      descripcion: 'Hermosa casa de playa en Acapulco, México',\n      lngLat: [ -99.91287720907991, 16.828940930185748]\n    },\n    {\n      titulo: 'Apartamento, Argentina',\n      descripcion: 'Lujoso apartamento en el corazón de Buenos Aires, Argentina',\n      lngLat: [ -58.430166677283445, -34.57150108832866 ]\n    },\n    {\n      titulo: 'Local comercial, España',\n      descripcion: 'Local comercial disponible en Madrid, España, cerca de El Jardín Secreto.',\n      lngLat: [ -3.7112735618380177, 40.42567285425766 ]\n    },\n  ]\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport * as mapboxgl from 'mapbox-gl';\nimport { element } from 'protractor';\n\ninterface MarcadorColor {\n  color: string;\n  marker?: mapboxgl.Marker;\n  center?: [number, number]\n}\n\n@Component({\n  selector: 'app-marcadores',\n  templateUrl: './marcadores.component.html',\n  styles: [\n    `\n    .mapa-container{\n      height: 100%;\n      width: 100;\n    }\n\n    .list-group{\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index:100;\n    }\n    li{\n      cursor: pointer;\n    }\n    `\n  ]\n})\nexport class MarcadoresComponent implements AfterViewInit {\n  @ViewChild('mapa') divMapa!: ElementRef;\n  mapa!: mapboxgl.Map;\n  zoomLevel: number = 15;\n  center: [number, number] = [-100.32142817717909, 25.67585623635041];\n\n  //arreglo de marcadores\n  marcadores: MarcadorColor[] = [];\n\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    this.mapa = new mapboxgl.Map({\n      container: this.divMapa.nativeElement,\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [-100.32142817717909, 25.67585623635041],\n      zoom: this.zoomLevel\n    });\n\n    this.leerLocalStorage();\n\n\n    // const markerHtml: HTMLElement = document.createElement('div');\n    // markerHtml.innerHTML = 'Hola mundo';\n\n    // new mapboxgl.Marker(\n    //   //  {element: markerHtml}\n    // )\n    //   .setLngLat(this.center)\n    //   .addTo(this.mapa);\n  }\n\n  agregarMarcador() {\n    const color = \"#xxxxxx\".replace(/x/g, y => (Math.random() * 16 | 0).toString(16));\n\n    const nuevoMarcador = new mapboxgl.Marker(\n      {\n        draggable: true,\n        color\n      }\n    )\n      .setLngLat(this.center)\n      .addTo(this.mapa);\n    this.marcadores.push({color, marker: nuevoMarcador});\n    this.guardarMarcadoresLocalStorage();\n\n    nuevoMarcador.on('dragend', () => {\n      this.guardarMarcadoresLocalStorage();\n    })\n\n  }\n\n  irMarcador(marcador: mapboxgl.LngLat) { \n    this.mapa.flyTo({\n      center: marcador\n    })\n\n  }\n\n  guardarMarcadoresLocalStorage(){\n    const lngLatArr: MarcadorColor[] = [];\n    this.marcadores.forEach(m => {\n      const color = m.color;\n      const {lng, lat} = m.marker!.getLngLat();\n      lngLatArr.push({\n        color: color,\n        center: [lng, lat]\n      })\n    });\n\n    localStorage.setItem('marcadores', JSON.stringify(lngLatArr));\n  }\n\n  leerLocalStorage(){\n    if(!localStorage.getItem('marcadores')){\n      return;\n    }\n    const lngLatArr: MarcadorColor[] = JSON.parse(localStorage.getItem('marcadores')!);\n\n    lngLatArr.forEach(element => {\n      const newMarker = new mapboxgl.Marker({\n        color: element.color,\n        draggable: true\n      }).setLngLat(element.center!).addTo(this.mapa);\n      this.marcadores.push({\n        marker: newMarker,\n        color: element.color\n      })\n\n\n      newMarker.on('dragend', () => {\n        this.guardarMarcadoresLocalStorage();\n      })\n\n    });\n    \n  }\n\n  borrarMarcador(i: number){\n    this.marcadores[i].marker?.remove();\n    this.marcadores.splice(i, 1);\n    this.guardarMarcadoresLocalStorage();\n  }\n\n}\n","<ul class=\"list-group\">\n    <li class=\"list-group-item list-group-item-info\"\n        (click)=\"agregarMarcador()\">\n        + Agregar\n    </li>\n    <li class=\"list-group-item\"\n    *ngFor=\"let marcador of marcadores; let i = index\"\n    (click)=\"irMarcador(marcador.marker!.getLngLat())\"\n    (dblclick)=\"borrarMarcador(i)\"\n        [ngStyle]=\"{\n            'background-color': marcador.color\n        }\">\n        marker {{i+1}}\n    </li>\n</ul>\n\n<div #mapa class=\"mapa-container\"></div>\n"],"sourceRoot":"webpack:///"}